# Pulse Oximeter - Digital Filter Design

## Table of Contents
- [Project Overview](#project-overview)
- [Project Steps](#project-steps)
  - [1. Filter Design in MATLAB](#1-filter-design-in-matlab)
  - [2. Filter Implementation in C](#2-filter-implementation-in-c)
  - [3. Transition to Fixed-Point Arithmetic](#3-transition-to-fixed-point-arithmetic)
  - [4. Future Work](#4-future-work)
- [Steps to Run the Project](#steps-to-run-the-project)
- [Conclusion](#conclusion)

## Project Overview

This project focuses on designing and implementing a digital filter for a pulse oximeter device. The filter was initially designed using MATLAB, and its response was verified through simulations. Once the desired filter response was achieved, the filter coefficients were extracted and used to implement the filter in C.

The project's goal was to develop an efficient digital filter that could be integrated into a pulse oximeter device. The project explored both floating-point and fixed-point arithmetic approaches to optimize performance and computational efficiency.

**Note** : All variables originally declared as `double` in the C code were used solely for testing and verifying the obtained output. When integrating this code into the project, all instances of the `double` data type were removed to enhance performance.

## Project Steps

### 1. Filter Design in MATLAB
- **Objective:** Design a digital filter that meets the specific requirements of a pulse oximeter.
- **Process:** 
  - MATLAB was used to design the digital filter.
  - The filter's response was verified using MATLAB's plotting tools.
  - Once the filter produced the desired output, the filter coefficients were extracted.

### 2. Filter Implementation in C
- **Objective:** Implement the designed digital filter in C using the obtained coefficients.
- **Process:**
  - The primary goal was successfully achieved by implementing the filter in C.
  - The initial implementation used floating-point arithmetic to verify the filter's behavior.

### 3. Transition to Fixed-Point Arithmetic
- **Objective:** Improve computational efficiency by using fixed-point arithmetic for the filter implementation.
- **Process:**
  - A low-pass filter was successfully implemented using fixed-point arithmetic.
  - However, the high-pass filter could not be implemented using fixed-point arithmetic due to stability issues. The poles of the high-pass filter were too close to the unit circle, and the loss of precision in fixed-point arithmetic caused the poles to move outside the unit circle, leading to an unstable filter.

### 4. Future Work
- **Objective:** Implement the high-pass filter using fixed-point arithmetic.
- **Plan:**
  - Redesign the high-pass filter to adjust the pole locations.
  - Obtain new filter coefficients that are more suitable for fixed-point implementation.
  - Reimplement the high-pass filter using the new coefficients.
  - Verify the filter response by plotting the results in Excel or other tools.

## Steps to Run the Project

1. **Filter Design in MATLAB:**
   - Run the MATLAB script `Filter_Design.m` to view the filter design and its response.

2. **Filter Implementation in C:**
   - Compile and run the C code `Filter_Implementation.c`.
   - Running this code will generate a text file named `Filter_Response.txt`, which contains the filter response output generated by the C code.

3. **Plotting the Filter Response:**
   - Open `Filter_Response.txt` in an Excel sheet.
   - Plot the values from `Filter_Response.txt` along with the input values present in `IR_Data.txt`.
   - Generate a graph using both datasets to observe the filter output generated by the C code.

## Conclusion

The project successfully demonstrated the design and implementation of a digital filter for a pulse oximeter using both floating-point and fixed-point arithmetic. The low-pass filter was successfully optimized using fixed-point arithmetic, but further work is required to achieve the same for the high-pass filter. The project remains ongoing, with plans to address the challenges encountered with the high-pass filter.
